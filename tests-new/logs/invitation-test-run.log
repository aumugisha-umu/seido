
Running 2 tests using 1 worker

[1A[2K[1/2] contacts\invitation-acceptance-flow.spec.ts:149:7 â€º ğŸ” Invitation Acceptance Flow - Auto-Healing â€º âœ… Gestionnaire invite prestataire â†’ Acceptation â†’ Set password â†’ Dashboard
[1A[2Kcontacts\invitation-acceptance-flow.spec.ts:149:7 â€º ğŸ” Invitation Acceptance Flow - Auto-Healing â€º âœ… Gestionnaire invite prestataire â†’ Acceptation â†’ Set password â†’ Dashboard

ğŸ§¹ [SETUP] Setting up test isolation...

[1A[2KğŸ§¹ [SETUP] Cleaning browser state...

[1A[2Kâœ… [SETUP] Test isolation ready

[1A[2K
ğŸ“ STEP 1: Login as gestionnaire

[1A[2K
ğŸ§¹ [TEARDOWN] Cleaning up test isolation...

[1A[2KğŸ§¹ [TEARDOWN] Cleaning up...

[1A[2Kâœ… [TEARDOWN] Cleanup complete

[1A[2K  1) contacts\invitation-acceptance-flow.spec.ts:149:7 â€º ğŸ” Invitation Acceptance Flow - Auto-Healing â€º âœ… Gestionnaire invite prestataire â†’ Acceptation â†’ Set password â†’ Dashboard 

    TypeError: (0 , _helpers.loginAsGestionnaire) is not a function

      152 |     // ========================================================================
      153 |     console.log('\nğŸ“ STEP 1: Login as gestionnaire')
    > 154 |     await loginAsGestionnaire(page)
          |                              ^
      155 |
      156 |     // VÃ©rifier que le login a rÃ©ussi
      157 |     await expect(page.locator('text=Tableau de bord')).toBeVisible({ timeout: 10000 })
        at C:\Users\arthu\Desktop\Coding\Seido-app\tests-new\contacts\invitation-acceptance-flow.spec.ts:154:30

    Error Context: ..\test-results\contacts-invitation-accept-c6f14--â†’-Set-password-â†’-Dashboard\error-context.md


[1A[2K[2/2] contacts\invitation-acceptance-flow.spec.ts:316:7 â€º ğŸ” Invitation Acceptance Flow - Auto-Healing â€º âŒ Validation: Boucle de redirection dÃ©tectÃ©e si bug prÃ©sent
[1A[2Kcontacts\invitation-acceptance-flow.spec.ts:316:7 â€º ğŸ” Invitation Acceptance Flow - Auto-Healing â€º âŒ Validation: Boucle de redirection dÃ©tectÃ©e si bug prÃ©sent

ğŸ§¹ [SETUP] Setting up test isolation...

[1A[2KğŸ§¹ [SETUP] Cleaning browser state...

[1A[2Kâœ… [SETUP] Test isolation ready

[1A[2K
ğŸ“ TEST: Validating redirect loop detection

[1A[2KFinal URL after 3s: http://localhost:3000/auth/callback

[1A[2K
ğŸ§¹ [TEARDOWN] Cleaning up test isolation...

[1A[2KğŸ§¹ [TEARDOWN] Cleaning up...

[1A[2Kâœ… [TEARDOWN] Cleanup complete

[1A[2K  2) contacts\invitation-acceptance-flow.spec.ts:316:7 â€º ğŸ” Invitation Acceptance Flow - Auto-Healing â€º âŒ Validation: Boucle de redirection dÃ©tectÃ©e si bug prÃ©sent 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mnot[2m.[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: not [32m"/auth/callback"[39m
    Received string:        [31m"http://localhost:3000[7m/auth/callback[27m"[39m

      333 |
      334 |     // Validation: On ne doit PAS rester bloquÃ© sur /auth/callback
    > 335 |     expect(finalUrl).not.toContain('/auth/callback')
          |                          ^
      336 |
      337 |     console.log('âœ… No infinite redirect loop detected (as expected)')
      338 |   })
        at C:\Users\arthu\Desktop\Coding\Seido-app\tests-new\contacts\invitation-acceptance-flow.spec.ts:335:26

    Error Context: ..\test-results\contacts-invitation-accept-b65c8-ion-dÃ©tectÃ©e-si-bug-prÃ©sent\error-context.md


[1A[2K  2 failed
    contacts\invitation-acceptance-flow.spec.ts:149:7 â€º ğŸ” Invitation Acceptance Flow - Auto-Healing â€º âœ… Gestionnaire invite prestataire â†’ Acceptation â†’ Set password â†’ Dashboard 
    contacts\invitation-acceptance-flow.spec.ts:316:7 â€º ğŸ” Invitation Acceptance Flow - Auto-Healing â€º âŒ Validation: Boucle de redirection dÃ©tectÃ©e si bug prÃ©sent 
